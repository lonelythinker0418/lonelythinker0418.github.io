---
title: test
date: 2019-04-30
categories: cpp 
--- 
<pre style='color:#000000;background:#ffffff;'><span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>iostream</span><span style='color:#800000; '>></span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>cstdlib</span><span style='color:#800000; '>></span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>cstdio</span><span style='color:#800000; '>></span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>algorithm</span><span style='color:#800000; '>></span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>include </span><span style='color:#800000; '>&lt;</span><span style='color:#40015a; '>vector</span><span style='color:#800000; '>></span>
<span style='color:#800000; font-weight:bold; '>using</span> <span style='color:#800000; font-weight:bold; '>namespace</span> <span style='color:#666616; '>std</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>typedef</span> <span style='color:#800000; font-weight:bold; '>long</span> <span style='color:#800000; font-weight:bold; '>long</span> ll<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>const</span> ll INF <span style='color:#808030; '>=</span> <span style='color:#008000; '>1e9</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>int</span> init<span style='color:#808030; '>(</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>a<span style='color:#808030; '>,</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>tree<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> node<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> start<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> end<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>start <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> end<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
    <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> a<span style='color:#808030; '>[</span>start<span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
  <span style='color:#800080; '>}</span><span style='color:#800000; font-weight:bold; '>else</span><span style='color:#800080; '>{</span>
    <span style='color:#800000; font-weight:bold; '>int</span> mid <span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span>start<span style='color:#808030; '>+</span>end<span style='color:#808030; '>)</span><span style='color:#808030; '>></span><span style='color:#808030; '>></span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#603000; '>max</span><span style='color:#808030; '>(</span>init<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>,</span>start<span style='color:#808030; '>,</span>mid<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span>init<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>mid<span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>end<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#800080; '>}</span>
<span style='color:#800080; '>}</span>
<span style='color:#800000; font-weight:bold; '>void</span> update<span style='color:#808030; '>(</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>a<span style='color:#808030; '>,</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>tree<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> node<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> start<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> end<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> idx<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> val<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>idx <span style='color:#808030; '>&lt;</span> start <span style='color:#808030; '>|</span><span style='color:#808030; '>|</span> idx <span style='color:#808030; '>></span> end<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span><span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>start <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> end<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
    a<span style='color:#808030; '>[</span>idx<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> val<span style='color:#800080; '>;</span>
    tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> val<span style='color:#800080; '>;</span>
  <span style='color:#800080; '>}</span><span style='color:#800000; font-weight:bold; '>else</span><span style='color:#800080; '>{</span>
    <span style='color:#800000; font-weight:bold; '>int</span> mid <span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span>start<span style='color:#808030; '>+</span>end<span style='color:#808030; '>)</span><span style='color:#808030; '>></span><span style='color:#808030; '>></span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
    update<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>,</span>start<span style='color:#808030; '>,</span>mid<span style='color:#808030; '>,</span>idx<span style='color:#808030; '>,</span>val<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    update<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>mid<span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>end<span style='color:#808030; '>,</span>idx<span style='color:#808030; '>,</span>val<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#603000; '>max</span><span style='color:#808030; '>(</span>tree<span style='color:#808030; '>[</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>*</span>node<span style='color:#808030; '>]</span><span style='color:#808030; '>,</span>tree<span style='color:#808030; '>[</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>*</span>node<span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>]</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#800080; '>}</span>
<span style='color:#800080; '>}</span>
<span style='color:#800000; font-weight:bold; '>int</span> query<span style='color:#808030; '>(</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>tree<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> node<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> start<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> end<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> left<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> right<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>left <span style='color:#808030; '>></span> end <span style='color:#808030; '>|</span><span style='color:#808030; '>|</span> right <span style='color:#808030; '>&lt;</span> start<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#808030; '>-</span>INF<span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>left <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span> start <span style='color:#808030; '>&amp;</span><span style='color:#808030; '>&amp;</span> end <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span> right<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#603000; '>max</span><span style='color:#808030; '>(</span>query<span style='color:#808030; '>(</span>tree<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>,</span>start<span style='color:#808030; '>,</span><span style='color:#808030; '>(</span>start<span style='color:#808030; '>+</span>end<span style='color:#808030; '>)</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>,</span>left<span style='color:#808030; '>,</span>right<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span>query<span style='color:#808030; '>(</span>tree<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span><span style='color:#808030; '>(</span>start<span style='color:#808030; '>+</span>end<span style='color:#808030; '>)</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>end<span style='color:#808030; '>,</span>left<span style='color:#808030; '>,</span>right<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>
<span style='color:#800000; font-weight:bold; '>int</span> update2<span style='color:#808030; '>(</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>a<span style='color:#808030; '>,</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>tree<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> idx<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> node<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> start<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> end<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>idx <span style='color:#808030; '>&lt;</span> start <span style='color:#808030; '>|</span><span style='color:#808030; '>|</span> idx <span style='color:#808030; '>></span> end<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>stat <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> end<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> start<span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>else</span><span style='color:#800080; '>{</span>
    <span style='color:#800000; font-weight:bold; '>int</span> mid <span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span>start<span style='color:#808030; '>+</span>end<span style='color:#808030; '>)</span><span style='color:#808030; '>></span><span style='color:#808030; '>></span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>int</span> idx1 <span style='color:#808030; '>=</span> update2<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span>idx<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>,</span>start<span style='color:#808030; '>,</span>mid<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>int</span> idx2 <span style='color:#808030; '>=</span> update2<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span>idx<span style='color:#808030; '>,</span>node<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>mid<span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>end<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>idx1 <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span> <span style='color:#808030; '>&amp;</span><span style='color:#808030; '>&amp;</span> idx2 <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>idx1 <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> idx2<span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>idx2 <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> idx1<span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>return</span> tree<span style='color:#808030; '>[</span>node<span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span>a<span style='color:#808030; '>[</span>idx1<span style='color:#808030; '>]</span> <span style='color:#808030; '>></span><span style='color:#808030; '>=</span> a<span style='color:#808030; '>[</span>idx2<span style='color:#808030; '>]</span> <span style='color:#800080; '>?</span> idx1 <span style='color:#800080; '>:</span> idx2<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#800080; '>}</span>
<span style='color:#800080; '>}</span>
<span style='color:#800000; font-weight:bold; '>int</span> query2<span style='color:#808030; '>(</span><span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> <span style='color:#808030; '>&amp;</span>tree<span style='color:#808030; '>,</span><span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  
<span style='color:#800080; '>}</span>
<span style='color:#800000; font-weight:bold; '>int</span> <span style='color:#400000; '>main</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>int</span> argc<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span><span style='color:#808030; '>*</span>argv<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  <span style='color:#800000; font-weight:bold; '>int</span> n<span style='color:#808030; '>,</span>q<span style='color:#800080; '>;</span>
  <span style='color:#603000; '>scanf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#007997; '>%d</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>n<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> a<span style='color:#808030; '>(</span>n<span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>for</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>int</span> i <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span> i <span style='color:#808030; '>&lt;</span> n<span style='color:#800080; '>;</span> i<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span><span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
    <span style='color:#603000; '>scanf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#007997; '>%d</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>a<span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#800080; '>}</span>
  <span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> tree<span style='color:#808030; '>(</span><span style='color:#008c00; '>4</span><span style='color:#808030; '>*</span>n<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#603000; '>vector</span><span style='color:#800080; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#800080; '>></span> tree2<span style='color:#808030; '>(</span><span style='color:#008c00; '>4</span><span style='color:#808030; '>*</span>n<span style='color:#808030; '>,</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  init<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span>n<span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#603000; '>scanf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#007997; '>%d</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>q<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>while</span> <span style='color:#808030; '>(</span>q<span style='color:#808030; '>-</span><span style='color:#808030; '>-</span><span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
    <span style='color:#800000; font-weight:bold; '>char</span> c<span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>int</span> l<span style='color:#808030; '>,</span>r<span style='color:#808030; '>,</span>idx<span style='color:#808030; '>,</span>val<span style='color:#800080; '>;</span>
    <span style='color:#603000; '>scanf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> </span><span style='color:#007997; '>%c</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>c<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>c <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'Q'</span><span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
      <span style='color:#603000; '>scanf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#007997; '>%d</span><span style='color:#0000e6; '> </span><span style='color:#007997; '>%d</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>l<span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>r<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
      <span style='color:#603000; '>printf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#007997; '>%d</span><span style='color:#0f69ff; '>\n</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>query<span style='color:#808030; '>(</span>tree<span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span>n<span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>l<span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>r<span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#800080; '>}</span><span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>c <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'U'</span><span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
      <span style='color:#603000; '>scanf</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#007997; '>%d</span><span style='color:#0000e6; '> </span><span style='color:#007997; '>%d</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>idx<span style='color:#808030; '>,</span><span style='color:#808030; '>&amp;</span>val<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
      update<span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span>tree<span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span>n<span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>idx<span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>val<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
    <span style='color:#800080; '>}</span>
  <span style='color:#800080; '>}</span>
<span style='color:#800080; '>}</span>
</pre>
<!--Created using ToHtml.com on 2019-04-29 16:56:14 UTC -->
